<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0a0c0f">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Atlas OS ‚Äî Mission Control</title>

  <!-- Fonts: Geist Mono (technical), Instrument Sans (display), Syne (titles) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;500;600;700&family=Instrument+Sans:wght@400;500;600;700&family=Syne:wght@400;500;600;700;800&family=Orbitron:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="atlas-os.css">
</head>
<body>
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- ATLAS OS ‚Äî Desktop Environment                      -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

  <!-- Boot screen -->
  <div id="bootScreen" class="boot-screen">
    <div class="boot-content">
      <div class="boot-logo">
        <svg class="boot-compass" viewBox="0 0 80 80" width="80" height="80">
          <circle cx="40" cy="40" r="36" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.3"/>
          <circle cx="40" cy="40" r="24" fill="none" stroke="currentColor" stroke-width="0.8" opacity="0.2"/>
          <path d="M40 8 L44 36 L40 40 L36 36 Z" fill="currentColor" opacity="0.9"/>
          <path d="M40 72 L36 44 L40 40 L44 44 Z" fill="currentColor" opacity="0.4"/>
          <path d="M8 40 L36 36 L40 40 L36 44 Z" fill="currentColor" opacity="0.4"/>
          <path d="M72 40 L44 44 L40 40 L44 36 Z" fill="currentColor" opacity="0.6"/>
          <circle cx="40" cy="40" r="3" fill="currentColor"/>
        </svg>
      </div>
      <div class="boot-text">
        <span class="boot-title">ATLAS OS</span>
        <span class="boot-version">v0.1.0</span>
      </div>
      <div class="boot-progress">
        <div class="boot-progress-bar"></div>
      </div>
      <div class="boot-status">Initializing agent network...</div>
    </div>
  </div>

  <!-- Desktop -->
  <div id="desktop" class="desktop" style="display:none;">

    <!-- Background layer with subtle grid -->
    <div class="desktop-bg">
      <canvas id="bgCanvas"></canvas>
    </div>

    <!-- Desktop icons -->
    <div class="desktop-icons" id="desktopIcons">
      <button class="desktop-icon" data-window="activity" title="Activity Feed">
        <div class="desktop-icon-glyph">üì°</div>
        <span class="desktop-icon-label">Activity</span>
      </button>
      <button class="desktop-icon" data-window="agents" title="Agent Fleet">
        <div class="desktop-icon-glyph">‚ö°</div>
        <span class="desktop-icon-label">Fleet</span>
      </button>
      <button class="desktop-icon" data-window="inbox" title="Inbox">
        <div class="desktop-icon-glyph">üì®</div>
        <span class="desktop-icon-label">Inbox</span>
      </button>
      <button class="desktop-icon" data-window="atlas-chat" title="Chat with Atlas">
        <div class="desktop-icon-glyph">üîÆ</div>
        <span class="desktop-icon-label">Atlas</span>
      </button>
      <button class="desktop-icon" data-window="tasks" title="Neural Tasks">
        <div class="desktop-icon-glyph">üß†</div>
        <span class="desktop-icon-label">Tasks</span>
      </button>
      <button class="desktop-icon" data-window="trading" title="Trading Desk">
        <div class="desktop-icon-glyph">üìä</div>
        <span class="desktop-icon-label">Trading</span>
      </button>
      <button class="desktop-icon" data-window="work" title="Production">
        <div class="desktop-icon-glyph">üè≠</div>
        <span class="desktop-icon-label">Production</span>
      </button>
      <button class="desktop-icon" data-window="github" title="GitHub">
        <div class="desktop-icon-glyph">üêô</div>
        <span class="desktop-icon-label">GitHub</span>
      </button>
      <button class="desktop-icon" data-window="analytics" title="Analytics">
        <div class="desktop-icon-glyph">üìà</div>
        <span class="desktop-icon-label">Analytics</span>
      </button>
      <button class="desktop-icon" data-window="scout" title="Scout ‚Äî Opportunities">
        <div class="desktop-icon-glyph">üî≠</div>
        <span class="desktop-icon-label">Scout</span>
      </button>
      <button class="desktop-icon" data-window="system" title="System Status">
        <div class="desktop-icon-glyph">üñ•Ô∏è</div>
        <span class="desktop-icon-label">System</span>
      </button>
    </div>

    <!-- Window container -->
    <div class="window-container" id="windowContainer"></div>

    <!-- ‚ïê‚ïê‚ïê TASKBAR ‚ïê‚ïê‚ïê -->
    <div class="taskbar" id="taskbar">
      <div class="taskbar-start">
        <button class="taskbar-menu-btn" id="menuBtn" title="Atlas Menu">
          <svg viewBox="0 0 24 24" width="18" height="18">
            <path d="M12 2 L14 10 L12 12 L10 10 Z" fill="currentColor" opacity="0.9"/>
            <path d="M12 22 L10 14 L12 12 L14 14 Z" fill="currentColor" opacity="0.5"/>
            <path d="M2 12 L10 10 L12 12 L10 14 Z" fill="currentColor" opacity="0.5"/>
            <path d="M22 12 L14 14 L12 12 L14 10 Z" fill="currentColor" opacity="0.7"/>
            <circle cx="12" cy="12" r="1.5" fill="currentColor"/>
          </svg>
          <span class="taskbar-menu-label">Atlas</span>
        </button>
      </div>

      <div class="taskbar-windows" id="taskbarWindows">
        <!-- Dynamic: running window tabs appear here -->
      </div>

      <!-- Mobile bottom nav (hidden on desktop) -->
      <div class="mobile-nav" id="mobileNav">
        <button class="mobile-nav-btn" data-window="activity">
          <span class="mobile-nav-icon">üì°</span>
          <span class="mobile-nav-label">Feed</span>
        </button>
        <button class="mobile-nav-btn" data-window="agents">
          <span class="mobile-nav-icon">‚ö°</span>
          <span class="mobile-nav-label">Fleet</span>
        </button>
        <button class="mobile-nav-btn" data-window="inbox">
          <span class="mobile-nav-icon">üì®</span>
          <span class="mobile-nav-label">Inbox</span>
          <span class="mobile-nav-badge" id="mobileInboxBadge" style="display:none;">0</span>
        </button>
        <button class="mobile-nav-btn" data-window="atlas-chat">
          <span class="mobile-nav-icon">üîÆ</span>
          <span class="mobile-nav-label">Atlas</span>
        </button>
        <button class="mobile-nav-btn" data-window="tasks">
          <span class="mobile-nav-icon">üß†</span>
          <span class="mobile-nav-label">Tasks</span>
        </button>
        <button class="mobile-nav-btn" data-window="trading">
          <span class="mobile-nav-icon">üìä</span>
          <span class="mobile-nav-label">Trading</span>
        </button>
        <button class="mobile-nav-btn" data-window="work">
          <span class="mobile-nav-icon">üè≠</span>
          <span class="mobile-nav-label">Production</span>
        </button>
        <button class="mobile-nav-btn" data-window="github">
          <span class="mobile-nav-icon">üêô</span>
          <span class="mobile-nav-label">GitHub</span>
        </button>
        <button class="mobile-nav-btn" data-window="analytics">
          <span class="mobile-nav-icon">üìà</span>
          <span class="mobile-nav-label">Analytics</span>
        </button>
        <button class="mobile-nav-btn" data-window="scout">
          <span class="mobile-nav-icon">üî≠</span>
          <span class="mobile-nav-label">Scout</span>
        </button>
        <button class="mobile-nav-btn" data-window="system">
          <span class="mobile-nav-icon">üñ•Ô∏è</span>
          <span class="mobile-nav-label">System</span>
        </button>
      </div>

      <!-- Desktop tray -->
      <div class="taskbar-tray" id="taskbarTray">
        <div class="tray-item tray-agents" id="trayAgents" title="Agent Fleet Status">
          <span class="tray-indicator"></span>
          <span class="tray-count" id="agentCount">0</span>
          <span class="tray-label">agents</span>
        </div>
        <div class="tray-divider"></div>
        <div class="tray-item tray-notifications" id="trayNotifications" title="Notifications">
          <span class="tray-bell">‚óè</span>
          <span class="tray-count" id="notifCount">0</span>
        </div>
        <div class="tray-divider"></div>
        <div class="tray-item tray-clock" id="trayClock">
          <span class="tray-time" id="clockTime">--:--</span>
          <span class="tray-date" id="clockDate">---</span>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê WINDOW TEMPLATES (hidden) ‚ïê‚ïê‚ïê -->

  <!-- Activity Feed Window -->
  <template id="tmpl-activity">
    <div class="window-body activity-window">
      <div class="activity-toolbar">
        <div class="activity-filters">
          <button class="filter-btn active" data-filter="all">All</button>
          <button class="filter-btn" data-filter="work">Work</button>
          <button class="filter-btn" data-filter="trading">Trading</button>
          <button class="filter-btn" data-filter="life">Life</button>
          <button class="filter-btn" data-filter="system">System</button>
        </div>
        <div class="activity-meta">
          <span class="activity-live-dot"></span>
          <span>Live</span>
        </div>
      </div>
      <div class="activity-feed" id="activityFeed">
        <div class="activity-empty">
          <div class="empty-glyph">‚óå</div>
          <p>No activity yet. Agents are standing by.</p>
        </div>
      </div>
    </div>
  </template>

  <!-- Agent Fleet Window -->
  <template id="tmpl-agents">
    <div class="window-body agents-window">
      <div class="agents-grid" id="agentsGrid">
        <!-- Populated by JS -->
      </div>
      <div class="agents-footer">
        <div class="fleet-stat">
          <span class="fleet-stat-value" id="fleetActive">0</span>
          <span class="fleet-stat-label">active</span>
        </div>
        <div class="fleet-stat">
          <span class="fleet-stat-value" id="fleetIdle">0</span>
          <span class="fleet-stat-label">idle</span>
        </div>
        <div class="fleet-stat">
          <span class="fleet-stat-value" id="fleetTotal">0</span>
          <span class="fleet-stat-label">total</span>
        </div>
      </div>
    </div>
  </template>

  <!-- Inbox Window -->
  <template id="tmpl-inbox">
    <div class="window-body inbox-window">
      <div class="inbox-header">
        <div class="inbox-tabs">
          <button class="inbox-tab active" data-status="pending">Pending</button>
          <button class="inbox-tab" data-status="all">All</button>
        </div>
        <span class="inbox-count" id="inboxPendingCount">0 items</span>
      </div>
      <div class="inbox-list" id="inboxList">
        <div class="inbox-empty">
          <div class="empty-glyph">‚óª</div>
          <p>Inbox clear. No decisions needed.</p>
        </div>
      </div>
    </div>
  </template>

  <!-- Atlas Chat Window -->
  <template id="tmpl-atlas-chat">
    <div class="window-body chat-window">
      <div class="chat-messages" id="chatMessages">
        <div class="chat-system-msg">
          <span class="chat-system-icon">üîÆ</span>
          <span>Atlas OS initialized. What do you need?</span>
        </div>
      </div>
      <div class="chat-input-area">
        <input type="text" class="chat-input" id="chatInput" placeholder="Talk to Atlas..." autocomplete="off">
        <button class="chat-send-btn" id="chatSendBtn">‚Üµ</button>
      </div>
    </div>
  </template>

  <!-- Agent Detail Window (dynamic ‚Äî one per agent) -->
  <template id="tmpl-agent-detail">
    <div class="window-body agent-detail-window">
      <!-- Header: agent identity -->
      <div class="agent-detail-header">
        <div class="agent-detail-identity">
          <div class="agent-detail-glyph"></div>
          <div class="agent-detail-info">
            <div class="agent-detail-name"></div>
            <div class="agent-detail-meta">
              <span class="agent-detail-domain"></span>
              <span class="agent-detail-tier"></span>
            </div>
          </div>
        </div>
        <div class="agent-detail-status">
          <span class="agent-detail-status-dot"></span>
          <span class="agent-detail-status-text"></span>
        </div>
      </div>
      <div class="agent-detail-task" style="display:none;"></div>

      <!-- Sections: Files + Work History -->
      <div class="agent-detail-sections">
        <!-- File tabs -->
        <div class="agent-detail-files">
          <div class="agent-detail-file-tabs">
            <button class="agent-file-tab active" data-file="AGENT.md">AGENT</button>
            <button class="agent-file-tab" data-file="SOUL.md">SOUL</button>
            <button class="agent-file-tab" data-file="SKILLS.md">SKILLS</button>
            <button class="agent-file-tab" data-file="CONTEXT.md">CONTEXT</button>
          </div>
          <div class="agent-detail-file-content">
            <div class="agent-file-loading">Loading...</div>
          </div>
        </div>

        <!-- Work History -->
        <div class="agent-detail-history">
          <div class="agent-detail-section-title">Work History</div>
          <div class="agent-detail-timeline"></div>
        </div>
      </div>
    </div>
  </template>

  <!-- Work Window -->
  <template id="tmpl-work">
    <div class="window-body work-window">
      <div class="work-main" id="workMain">
        <div class="trading-loading">
          <div class="loading-spinner"></div>
          <span>Loading production data...</span>
        </div>
      </div>
    </div>
  </template>

  <!-- Trading Desk Window -->
  <template id="tmpl-trading">
    <div class="window-body trading-window">
      <div class="trading-main" id="tradingMain">
        <div class="trading-loading">
          <div class="loading-spinner"></div>
          <span>Loading market data...</span>
        </div>
      </div>
    </div>
  </template>

  <!-- Tasks Window ‚Äî Dual view: Board (default) + Neural Map (toggle) -->
  <template id="tmpl-tasks">
    <div class="window-body tasks-window">
      <div class="tasks-toolbar">
        <div class="tasks-toolbar-left">
          <span class="tasks-title-glyph">‚óâ</span>
          <span class="tasks-title-text">TASK LIST</span>
        </div>
        <div class="tasks-toolbar-right">
          <div class="tasks-view-toggle">
            <button class="tasks-view-btn active" data-view="list" title="List view">
              <svg viewBox="0 0 16 16" width="14" height="14"><rect x="1" y="2" width="14" height="2" rx="0.5" fill="currentColor" opacity="0.7"/><rect x="1" y="7" width="14" height="2" rx="0.5" fill="currentColor" opacity="0.5"/><rect x="1" y="12" width="14" height="2" rx="0.5" fill="currentColor" opacity="0.3"/></svg>
            </button>
            <button class="tasks-view-btn" data-view="board" title="Board view">
              <svg viewBox="0 0 16 16" width="14" height="14"><rect x="1" y="1" width="4" height="14" rx="1" fill="currentColor" opacity="0.7"/><rect x="6" y="1" width="4" height="10" rx="1" fill="currentColor" opacity="0.5"/><rect x="11" y="1" width="4" height="7" rx="1" fill="currentColor" opacity="0.3"/></svg>
            </button>
            <button class="tasks-view-btn" data-view="neural" title="Neural map">
              <svg viewBox="0 0 16 16" width="14" height="14"><circle cx="4" cy="4" r="2" fill="currentColor" opacity="0.7"/><circle cx="12" cy="4" r="2" fill="currentColor" opacity="0.5"/><circle cx="8" cy="12" r="2" fill="currentColor" opacity="0.6"/><line x1="4" y1="4" x2="12" y2="4" stroke="currentColor" stroke-width="0.8" opacity="0.3"/><line x1="4" y1="4" x2="8" y2="12" stroke="currentColor" stroke-width="0.8" opacity="0.3"/><line x1="12" y1="4" x2="8" y2="12" stroke="currentColor" stroke-width="0.8" opacity="0.3"/></svg>
            </button>
          </div>
          <div class="tasks-stats">
            <span class="tasks-stat" id="tasksActiveCount">0 active</span>
            <span class="tasks-stat-divider">¬∑</span>
            <span class="tasks-stat" id="tasksTotalCount">0 total</span>
          </div>
        </div>
      </div>

      <!-- List View (default) -->
      <div class="tasks-list-view" id="tasksListView">
        <div class="tasks-list" id="tasksList"></div>
      </div>

      <!-- Board View -->
      <div class="tasks-board-view" id="tasksBoardView" style="display:none;">
        <div class="tasks-board" id="tasksBoard">
          <div class="tasks-column" data-status="backlog">
            <div class="tasks-column-header">
              <span class="tasks-column-dot col-dot-backlog"></span>
              <span class="tasks-column-title">Backlog</span>
              <span class="tasks-column-count" data-count="backlog">0</span>
            </div>
            <div class="tasks-column-cards" data-status="backlog"></div>
          </div>
          <div class="tasks-column" data-status="active">
            <div class="tasks-column-header">
              <span class="tasks-column-dot col-dot-active"></span>
              <span class="tasks-column-title">Active</span>
              <span class="tasks-column-count" data-count="active">0</span>
            </div>
            <div class="tasks-column-cards" data-status="active"></div>
          </div>
          <div class="tasks-column" data-status="review">
            <div class="tasks-column-header">
              <span class="tasks-column-dot col-dot-review"></span>
              <span class="tasks-column-title">Review</span>
              <span class="tasks-column-count" data-count="review">0</span>
            </div>
            <div class="tasks-column-cards" data-status="review"></div>
          </div>
          <div class="tasks-column" data-status="done">
            <div class="tasks-column-header">
              <span class="tasks-column-dot col-dot-done"></span>
              <span class="tasks-column-title">Done</span>
              <span class="tasks-column-count" data-count="done">0</span>
            </div>
            <div class="tasks-column-cards" data-status="done"></div>
          </div>
        </div>
      </div>

      <!-- Neural Map View (toggle) -->
      <div class="tasks-neural-view" id="tasksNeuralView" style="display:none;">
        <div class="tasks-canvas-wrap">
          <canvas id="neuralCanvas"></canvas>
        </div>
      </div>

      <!-- Shared task detail overlay -->
      <div class="task-detail-overlay" id="taskDetailOverlay" style="display:none;">
        <div class="task-detail-panel">
          <div class="task-detail-close" id="taskDetailClose">√ó</div>
          <div class="task-detail-status-bar"></div>
          <div class="task-detail-title-row">
            <span class="task-detail-priority-gem"></span>
            <span class="task-detail-title-text"></span>
          </div>
          <div class="task-detail-description"></div>
          <div class="task-detail-meta-grid">
            <div class="task-meta-cell">
              <span class="task-meta-label">STATUS</span>
              <span class="task-meta-value task-detail-status"></span>
            </div>
            <div class="task-meta-cell">
              <span class="task-meta-label">OWNER</span>
              <span class="task-meta-value task-detail-owner"></span>
            </div>
            <div class="task-meta-cell">
              <span class="task-meta-label">PRIORITY</span>
              <span class="task-meta-value task-detail-priority"></span>
            </div>
            <div class="task-meta-cell">
              <span class="task-meta-label">CREATED</span>
              <span class="task-meta-value task-detail-created"></span>
            </div>
          </div>
          <div class="task-detail-deps">
            <span class="task-meta-label">CONNECTIONS</span>
            <div class="task-detail-dep-list"></div>
          </div>
        </div>
      </div>
    </div>
  </template>

  <!-- GitHub Dashboard Window -->
  <template id="tmpl-github">
    <div class="window-body github-window">
      <div class="github-main" id="githubMain">
        <div class="trading-loading">
          <div class="loading-spinner"></div>
          <span>Loading repository data...</span>
        </div>
      </div>
    </div>
  </template>

  <!-- Analytics Window -->
  <template id="tmpl-analytics">
    <div class="window-body analytics-window">
      <div class="analytics-main" id="analyticsMain">
        <div class="trading-loading">
          <div class="loading-spinner"></div>
          <span>Loading production analytics...</span>
        </div>
      </div>
    </div>
  </template>

  <template id="tmpl-scout">
    <div class="window-body scout-window">
      <div class="scout-header">
        <span class="scout-title-glyph">üî≠</span>
        <span class="scout-title-text">OPPORTUNITY RADAR</span>
        <span class="scout-meta" id="scoutMeta">Loading...</span>
      </div>
      <div class="scout-trends" id="scoutTrends"></div>
      <div class="scout-cards" id="scoutCards">
        <div class="trading-loading"><div class="loading-spinner"></div><span>Scanning opportunities...</span></div>
      </div>
    </div>
  </template>

  <!-- Quick action bar -->
  <div class="quick-actions" id="quickActions">
    <button class="qa-btn" id="qaNewTask" title="New Task">+ Task</button>
  </div>

  <!-- New Task Modal -->
  <div class="qa-modal-overlay" id="newTaskModal" style="display:none;">
    <div class="qa-modal">
      <div class="qa-modal-header">New Task</div>
      <input class="qa-input" id="newTaskTitle" placeholder="Task title..." autofocus>
      <div class="qa-row">
        <select class="qa-select" id="newTaskPriority">
          <option value="normal">Normal</option>
          <option value="high">High</option>
          <option value="urgent">Urgent</option>
          <option value="low">Low</option>
        </select>
        <select class="qa-select" id="newTaskDomain">
          <option value="work">Work</option>
          <option value="trading">Trading</option>
          <option value="system">System</option>
        </select>
        <select class="qa-select" id="newTaskOwner">
          <option value="">Unassigned</option>
          <option value="friday">Friday</option>
          <option value="atlas">Atlas</option>
          <option value="darwin">Darwin</option>
          <option value="viper">Viper</option>
        </select>
      </div>
      <textarea class="qa-textarea" id="newTaskDesc" placeholder="Description (optional)..." rows="2"></textarea>
      <div class="qa-row" style="justify-content:flex-end;gap:8px;">
        <button class="qa-btn qa-cancel" id="newTaskCancel">Cancel</button>
        <button class="qa-btn qa-submit" id="newTaskSubmit">Create</button>
      </div>
    </div>
  </div>

  <template id="tmpl-system">
    <div class="window-body system-window">
      <div class="system-main" id="systemMain">
        <div class="trading-loading">
          <div class="loading-spinner"></div>
          <span>Loading system status...</span>
        </div>
      </div>
    </div>
  </template>

  <script src="atlas-os.js"></script>
</body>
</html>
