<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link rel="icon" type="image/png" href="/rogue-origin-apps/favicon.png">
  <link rel="manifest" href="/rogue-origin-apps/manifest.json">
  <meta name="theme-color" content="#1a1f16">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Command Center">
  <link rel="apple-touch-icon" href="/rogue-origin-apps/assets/icon-apple-touch.png">
  <title>Production Command Center</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=JetBrains+Mono:wght@400;600;700&family=Outfit:wght@400;600;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="../css/shared-base.css">
  <link rel="stylesheet" href="../css/command-center.css">

  <script src="https://unpkg.com/phosphor-icons"></script>
</head>
<body class="command-center">
  <!-- Header -->
  <header class="cc-header">
    <div class="cc-header-left">
      <div class="cc-brand">
        <i class="ph-duotone ph-monitor"></i>
        <h1>COMMAND CENTER</h1>
      </div>
      <div class="cc-time">
        <div class="cc-time-value" id="headerTime">--:--</div>
        <div class="cc-date-value" id="headerDate">Loading...</div>
      </div>
    </div>
    <div class="cc-header-right">
      <div class="cc-status-pill" id="systemStatus">
        <div class="status-dot"></div>
        <span>LIVE</span>
      </div>
      <button class="cc-header-btn" id="fullscreenBtn" title="Toggle Fullscreen">
        <i class="ph-duotone ph-arrows-out"></i>
      </button>
      <a href="index.html" class="cc-header-btn" title="Back to Dashboard">
        <i class="ph-duotone ph-house"></i>
      </a>
    </div>
  </header>

  <!-- Main Grid -->
  <main class="cc-main">
    <!-- Production Overview - Top Left -->
    <section class="cc-card cc-production-overview">
      <div class="cc-card-header">
        <div class="cc-card-title">
          <i class="ph-duotone ph-chart-line-up"></i>
          <h2>Production Status</h2>
        </div>
        <div class="cc-card-meta" id="lastUpdate">Updated --:--</div>
      </div>

      <div class="cc-hero-metric">
        <div class="hero-label">Current Hour Output</div>
        <div class="hero-value-row">
          <span class="hero-value" id="currentHourLbs">0</span>
          <span class="hero-unit">lbs</span>
        </div>
        <div class="hero-progress">
          <div class="hero-progress-bar">
            <div class="hero-progress-fill" id="currentHourProgress" style="width: 0%"></div>
          </div>
          <div class="hero-progress-label">
            <span id="currentHourPct">0%</span> of <span id="currentHourTarget">0</span> lbs target
          </div>
        </div>
      </div>

      <div class="cc-metrics-grid">
        <div class="cc-metric">
          <div class="metric-icon green">
            <i class="ph-duotone ph-calendar-check"></i>
          </div>
          <div class="metric-content">
            <div class="metric-label">Today's Total</div>
            <div class="metric-value" id="todayLbs">0 lbs</div>
            <div class="metric-delta" id="todayDelta">—</div>
          </div>
        </div>

        <div class="cc-metric">
          <div class="metric-icon gold">
            <i class="ph-duotone ph-target"></i>
          </div>
          <div class="metric-content">
            <div class="metric-label">Daily Target</div>
            <div class="metric-value" id="todayTarget">0 lbs</div>
            <div class="metric-delta" id="targetPct">0%</div>
          </div>
        </div>

        <div class="cc-metric">
          <div class="metric-icon blue">
            <i class="ph-duotone ph-clock-afternoon"></i>
          </div>
          <div class="metric-content">
            <div class="metric-label">Hours Logged</div>
            <div class="metric-value" id="hoursLogged">0</div>
            <div class="metric-delta" id="effectiveHours">0 effective</div>
          </div>
        </div>

        <div class="cc-metric">
          <div class="metric-icon purple">
            <i class="ph-duotone ph-trend-up"></i>
          </div>
          <div class="metric-content">
            <div class="metric-label">Avg Performance</div>
            <div class="metric-value" id="avgPerformance">0%</div>
            <div class="metric-delta" id="bestPerformance">Best: 0%</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Crew Performance - Top Right -->
    <section class="cc-card cc-crew-performance">
      <div class="cc-card-header">
        <div class="cc-card-title">
          <i class="ph-duotone ph-users-three"></i>
          <h2>Crew Performance</h2>
        </div>
      </div>

      <div class="cc-crew-stats">
        <div class="crew-stat-card trimmers">
          <div class="crew-stat-icon">
            <i class="ph-duotone ph-scissors"></i>
          </div>
          <div class="crew-stat-content">
            <div class="crew-stat-value" id="trimmerCount">0</div>
            <div class="crew-stat-label">Trimmers</div>
          </div>
          <div class="crew-stat-rate">
            <span id="trimmerRate">0</span> lbs/hr
          </div>
        </div>

        <div class="crew-stat-card buckers">
          <div class="crew-stat-icon">
            <i class="ph-duotone ph-package"></i>
          </div>
          <div class="crew-stat-content">
            <div class="crew-stat-value" id="buckerCount">0</div>
            <div class="crew-stat-label">Buckers</div>
          </div>
          <div class="crew-stat-rate">
            <span id="buckerRate">0</span> ratio
          </div>
        </div>
      </div>

      <div class="cc-rate-indicator">
        <div class="rate-label">Current Rate vs Target</div>
        <div class="rate-meter">
          <div class="rate-meter-fill" id="rateMeterFill" style="width: 0%"></div>
          <div class="rate-meter-marker" style="left: 100%"></div>
        </div>
        <div class="rate-value-row">
          <span class="rate-current" id="currentRate">0 lbs/trimmer/hr</span>
          <span class="rate-target">Target: <span id="targetRate">0</span></span>
        </div>
      </div>

      <div class="cc-strain-info">
        <div class="strain-label">Current Strain</div>
        <div class="strain-name" id="strainName">—</div>
        <div class="strain-target">Expected Rate: <span id="strainRate">0</span> lbs/trimmer/hr</div>
      </div>
    </section>

    <!-- Bag Timer - Middle Left -->
    <section class="cc-card cc-bag-timer">
      <div class="cc-card-header">
        <div class="cc-card-title">
          <i class="ph-duotone ph-timer"></i>
          <h2>Bag Timer</h2>
        </div>
      </div>

      <div class="cc-timer-display">
        <svg class="timer-ring" viewBox="0 0 200 200">
          <circle class="timer-ring-bg" cx="100" cy="100" r="85"/>
          <circle class="timer-ring-progress" id="timerRing" cx="100" cy="100" r="85"/>
        </svg>
        <div class="timer-center">
          <div class="timer-value" id="timerValue">--:--</div>
          <div class="timer-label" id="timerLabel">since last bag</div>
        </div>
      </div>

      <div class="cc-timer-stats">
        <div class="timer-stat">
          <div class="timer-stat-label">Target Time</div>
          <div class="timer-stat-value" id="targetTime">--:--</div>
        </div>
        <div class="timer-stat">
          <div class="timer-stat-label">Bags Today</div>
          <div class="timer-stat-value" id="bagsToday">0</div>
        </div>
        <div class="timer-stat">
          <div class="timer-stat-label">Avg Today</div>
          <div class="timer-stat-value" id="avgBagTime">--:--</div>
        </div>
      </div>

      <div class="cc-timer-status" id="timerStatus">
        <div class="timer-status-indicator"></div>
        <span class="timer-status-text">Waiting for data...</span>
      </div>
    </section>

    <!-- Predictive Analytics - Middle Right -->
    <section class="cc-card cc-predictive">
      <div class="cc-card-header">
        <div class="cc-card-title">
          <i class="ph-duotone ph-crystal-ball"></i>
          <h2>Predictive Analytics</h2>
        </div>
      </div>

      <div class="cc-prediction-hero">
        <div class="prediction-label">Projected End of Day</div>
        <div class="prediction-value" id="projectedTotal">0 lbs</div>
        <div class="prediction-delta" id="projectedDelta">—</div>
      </div>

      <div class="cc-prediction-details">
        <div class="prediction-detail">
          <div class="prediction-detail-label">
            <i class="ph-duotone ph-clock"></i>
            Estimated Finish Time
          </div>
          <div class="prediction-detail-value" id="finishTime">--:--</div>
        </div>

        <div class="prediction-detail">
          <div class="prediction-detail-label">
            <i class="ph-duotone ph-path"></i>
            Current Pace
          </div>
          <div class="prediction-detail-value" id="currentPace">0 lbs/hr</div>
        </div>

        <div class="prediction-detail">
          <div class="prediction-detail-label">
            <i class="ph-duotone ph-trending-up"></i>
            Required Pace
          </div>
          <div class="prediction-detail-value" id="requiredPace">0 lbs/hr</div>
        </div>
      </div>

      <div class="cc-timeline">
        <div class="timeline-label">Day Progress</div>
        <div class="timeline-bar">
          <div class="timeline-fill" id="dayProgress" style="width: 0%"></div>
          <div class="timeline-marker" id="targetMarker" style="left: 100%"></div>
        </div>
        <div class="timeline-labels">
          <span>Start</span>
          <span id="timeRemaining">8h 0m remaining</span>
        </div>
      </div>
    </section>

    <!-- Alerts - Bottom -->
    <section class="cc-card cc-alerts">
      <div class="cc-card-header">
        <div class="cc-card-title">
          <i class="ph-duotone ph-warning"></i>
          <h2>Active Alerts</h2>
        </div>
        <button class="cc-alerts-clear" id="clearAlerts" style="display: none;">Clear All</button>
      </div>

      <div class="cc-alerts-list" id="alertsList">
        <div class="cc-no-alerts">
          <i class="ph-duotone ph-check-circle"></i>
          <p>All systems nominal</p>
        </div>
      </div>
    </section>
  </main>

  <script src="../js/command-center/main.js"></script>
</body>
</html>
